<div id="applicable-attributes-panel" [class.details-open]="activeAttribute">
    <h1 class="pt-3 px-3 m-0">Applicable Attributes:</h1>
    <div class="p-3">
        <input type="text" class="form-control" [(ngModel)]="attributeFilter" placeholder="Filter Attributes...">
    </div>
    <div class="px-3 py-2 attribute" *ngFor="let attribute of attributes | textMatch:attributeFilter | domainMatch:activeDomain | duplicateFilter:activeDomain?.referencedComponentId"
         (click)="makeActiveAttribute(attribute)"
         [class.active]="attribute === activeAttribute">{{attribute.referencedComponent.fsn?.term}}</div>
    <div *ngIf="activeAttribute" class="details">
        <button type="button" class="close float-right px-2" (click)="makeActiveAttribute(activeAttribute)">
            <span aria-hidden="true">&times;</span>
        </button>
        <ng-container *ngIf="activeAttribute.additionalFields.grouped">
            <h3 class="label m-2">Grouped</h3>
            <div class="detail m-2 mb-3 px-2 rounded">{{activeAttribute.additionalFields.grouped}}</div>
        </ng-container>
        <ng-container *ngIf="activeAttribute.additionalFields.attributeCardinality">
            <h3 class="label m-2">Attribute Cardinality</h3>
            <div class="detail m-2 mb-3 px-2 rounded">{{activeAttribute.additionalFields.attributeCardinality}}</div>
        </ng-container>
        <ng-container *ngIf="activeAttribute.additionalFields.attributeInGroupCardinality">
            <h3 class="label m-2">Attribute in Group Cardinality</h3>
            <div class="detail m-2 mb-3 px-2 rounded">{{activeAttribute.additionalFields.attributeInGroupCardinality}}</div>
        </ng-container>
        <ng-container *ngIf="activeAttribute.additionalFields.ruleStrengthId">
            <h3 class="label m-2">Mandatory</h3>
            <div class="detail m-2 mb-3 px-2 rounded">{{activeAttribute.additionalFields.ruleStrengthId}}</div>
        </ng-container>
        <ng-container *ngIf="activeAttribute.additionalFields.contentTypeId">
            <h3 class="label m-2">Content Type</h3>
            <div class="detail m-2 mb-3 px-2 rounded">{{activeAttribute.additionalFields.contentTypeId}}</div>
        </ng-container>
    </div>
</div>
